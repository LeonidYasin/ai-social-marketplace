# Настройка логирования Frontend на Render

## Обзор

Этот документ описывает настройку автоматического логирования frontend для отправки логов на backend и их записи в файл на Render.

## Что было настроено

### 1. Сервис логирования (`frontend/src/services/logging.js`)
- Автоматическая отправка логов на backend
- Очередь логов для надежной доставки
- Логирование API запросов/ответов
- Логирование пользовательских действий
- Логирование ошибок React
- Логирование производительности

### 2. Интеграция с API сервисом
- Логирование всех API запросов
- Логирование ответов и ошибок
- Автоматическое отслеживание статусов

### 3. Интеграция с App.jsx
- Обработчик ошибок React
- Логирование жизненного цикла компонентов

### 4. Тестовый компонент
- Компонент для тестирования логирования
- Проверка всех уровней логирования

## Как использовать

### 1. Импорт логгера в компонентах
```jsx
import logger from '../services/logging';

// В компоненте
logger.info('Component loaded');
logger.logUserAction('button_clicked', { buttonId: 'submit' });
```

### 2. Логирование ошибок
```jsx
try {
  // код
} catch (error) {
  logger.error('Operation failed', { error: error.message });
}
```

### 3. Логирование производительности
```jsx
const startTime = performance.now();
// операция
const duration = performance.now() - startTime;
logger.logPerformance('operation_duration', duration);
```

## Уровни логирования

- `logger.error()` - Критические ошибки
- `logger.warn()` - Предупреждения
- `logger.info()` - Информационные сообщения
- `logger.debug()` - Отладочная информация (только в development)

## Автоматические логи

Система автоматически логирует:
- Загрузку приложения
- API запросы и ответы
- Глобальные ошибки JavaScript
- Необработанные промисы
- Жизненный цикл компонентов

## Проверка работы

1. Откройте приложение в браузере
2. Откройте DevTools Console
3. Найдите компонент LoggingTest
4. Нажмите кнопку "Test Logging"
5. Проверьте логи в backend: `backend/logs/frontend.log`

## Мониторинг на Render

Логи frontend теперь будут доступны через API:
- `GET /api/logs/frontend` - логи frontend
- `GET /api/logs/all` - все логи
- `GET /api/logs/stats` - статистика

## Устранение неполадок

### Логи не отправляются
1. Проверьте консоль браузера на ошибки
2. Убедитесь, что backend доступен
3. Проверьте CORS настройки

### Логи не записываются в файл
1. Проверьте права доступа к папке logs
2. Проверьте backend логи на ошибки
3. Убедитесь, что эндпоинт /api/client-log работает

## Производительность

- Логи отправляются асинхронно
- Используется очередь для надежности
- Автоматическая очистка старых логов
- Логирование отключено в production для debug уровня
