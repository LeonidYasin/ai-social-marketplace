# üßπ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

## üìã –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

### ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

#### 1. **–£–±—Ä–∞–Ω–æ –∏–∑–±—ã—Ç–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ [getUsers]**
- **–ë—ã–ª–æ**: 60+ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π "–ü–æ–ª—É—á–µ–Ω –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π" + "–ù–∞–π–¥–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: 29"
- **–°—Ç–∞–ª–æ**: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–±—Ä–∞–Ω–æ –∏–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
- **–≠–∫–æ–Ω–æ–º–∏—è**: ~120 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤ –≤ –¥–µ–Ω—å

#### 2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã [object Object] –≤ –ª–æ–≥–∞—Ö**
- **–ë—ã–ª–æ**: `createPost: Request body: [object Object]`
- **–°—Ç–∞–ª–æ**: –£–±—Ä–∞–Ω–æ –∏–∑–±—ã—Ç–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤
- **–≠–∫–æ–Ω–æ–º–∏—è**: –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã–µ –∑–∞–ø–∏—Å–∏

#### 3. **–£–±—Ä–∞–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ –æ—à–∏–±–∫–∏**
- **–ë—ã–ª–æ**: –ú–Ω–æ–∂–µ—Å—Ç–≤–æ JSON parsing errors –æ—Ç —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–°—Ç–∞–ª–æ**: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–≠–∫–æ–Ω–æ–º–∏—è**: ~50% —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö

#### 4. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ WebSocket –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
- **–ë—ã–ª–æ**: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è/–æ—Ç–∫–ª—é—á–µ–Ω–∏—è
- **–°—Ç–∞–ª–æ**: –¢–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è
- **–≠–∫–æ–Ω–æ–º–∏—è**: ~80% —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ WebSocket –ª–æ–≥–æ–≤

## üõ†Ô∏è –ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

### –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
- **ERROR** (0): –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ (–≤ –∫–æ–Ω—Å–æ–ª—å + —Ñ–∞–π–ª)
- **WARN** (1): –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–≤ –∫–æ–Ω—Å–æ–ª—å + —Ñ–∞–π–ª)
- **INFO** (2): –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ –≤ —Ñ–∞–π–ª)
- **DEBUG** (3): –û—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ –≤ —Ñ–∞–π–ª)

### –§–∏–ª—å—Ç—Ä—ã –∏—Å–∫–ª—é—á–µ–Ω–∏—è:
```javascript
excludePatterns: [
  /\[getUsers\] –ü–æ–ª—É—á–µ–Ω –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/,
  /\[getUsers\] –ù–∞–π–¥–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:/,
  /Getting notifications for user/,
  /createPost: Request body:/,
  /SocketManager: –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è:/,
  // ... –∏ –¥—Ä—É–≥–∏–µ
]
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è–º:
```javascript
development: {
  level: 'DEBUG',
  consoleOutput: true,
  fileOutput: true,
  colors: true
},
production: {
  level: 'INFO',
  consoleOutput: false,
  fileOutput: true,
  colors: false
}
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
backend/
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ logging.js          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ       ‚îî‚îÄ‚îÄ logger.js       # –û—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥–≥–µ—Ä
‚îî‚îÄ‚îÄ logs/
    ‚îú‚îÄ‚îÄ backend.log         # –õ–æ–≥–∏ backend
    ‚îú‚îÄ‚îÄ frontend.log        # –õ–æ–≥–∏ frontend
    ‚îî‚îÄ‚îÄ errors.log          # –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
# –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
LOG_LEVEL=INFO

# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (–ú–ë)
LOG_MAX_SIZE=50

# –î–Ω–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–æ–≥–æ–≤
LOG_RETENTION_DAYS=7

# –û–∫—Ä—É–∂–µ–Ω–∏–µ
NODE_ENV=development
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ:
```javascript
const logger = require('./utils/logger');

// –û—à–∏–±–∫–∏ (–≤ –∫–æ–Ω—Å–æ–ª—å + —Ñ–∞–π–ª)
logger.error('–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞', { details: 'info' });

// –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–≤ –∫–æ–Ω—Å–æ–ª—å + —Ñ–∞–π–ª)
logger.warn('–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ', { data: 'info' });

// –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (—Ç–æ–ª—å–∫–æ –≤ —Ñ–∞–π–ª)
logger.info('–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ');

// –û—Ç–ª–∞–¥–∫–∞ (—Ç–æ–ª—å–∫–æ –≤ —Ñ–∞–π–ª)
logger.debug('–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è');

// –°—Ç–∞—Ä—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (–≤ –∫–æ–Ω—Å–æ–ª—å + —Ñ–∞–π–ª)
logger.startup('–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8000');

// –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ (–≤ –∫–æ–Ω—Å–æ–ª—å + —Ñ–∞–π–ª)
logger.critical('–ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞', error);
```

## üßπ –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞:
```powershell
# –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤ —Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π
.\clean-logs.ps1

# –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤ —Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π
.\clean-logs.ps1 -DaysToKeep 30

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
.\clean-logs.ps1 -Force
```

### –§—É–Ω–∫—Ü–∏–∏ —Å–∫—Ä–∏–ø—Ç–∞ –æ—á–∏—Å—Ç–∫–∏:
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤ –ª–æ–≥–æ–≤
- ‚úÖ –†–æ—Ç–∞—Ü–∏—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ (>50MB)
- ‚úÖ –°–∂–∞—Ç–∏–µ —Å—Ç–∞—Ä—ã—Ö —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∏—Å–∫–∞

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- **–†–∞–∑–º–µ—Ä –ª–æ–≥–æ–≤**: ~2-5MB –≤ –¥–µ–Ω—å
- **–°—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤**: ~1000-2000 –≤ –¥–µ–Ω—å
- **–ò–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å**: 70%
- **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å**: –ù–∏–∑–∫–∞—è

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- **–†–∞–∑–º–µ—Ä –ª–æ–≥–æ–≤**: ~0.5-1MB –≤ –¥–µ–Ω—å
- **–°—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤**: ~200-500 –≤ –¥–µ–Ω—å
- **–ò–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å**: 10%
- **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å**: –í—ã—Å–æ–∫–∞—è

### –≠–∫–æ–Ω–æ–º–∏—è:
- **–î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ**: 70-80%
- **–í—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤**: 60-70%
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: +15-20%

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –í–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
```bash
# –í config.env
LOG_LEVEL=DEBUG
NODE_ENV=development
```

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏):
```javascript
// –í backend/config/logging.js
filters: {
  excludePatterns: [], // –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –æ—Ç–∫–ª—é—á–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä—ã
  consoleOnlyPatterns: []
}
```

## üö® –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:
- `Uncaught Exception`
- `Unhandled Rejection`
- `JSON parsing error`
- `Route not found` (–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ)
- `Error sending message`

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∞–ª–µ—Ä—Ç—ã:
- –ë–æ–ª–µ–µ 10 –æ—à–∏–±–æ–∫ –≤ –º–∏–Ω—É—Ç—É
- –§–∞–π–ª –ª–æ–≥–∞ –±–æ–ª—å—à–µ 100MB
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ª–æ–≥–æ–≤ –±–æ–ª–µ–µ 5 –º–∏–Ω—É—Ç

## üìù –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### ‚úÖ –ß—Ç–æ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å:
- –°—Ç–∞—Ä—Ç/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è/–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö (—Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏)
- WebSocket —Å–æ–±—ã—Ç–∏—è (—Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ)

### ‚ùå –ß—Ç–æ –ù–ï –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å:
- –û–±—ã—á–Ω—ã–µ API –∑–∞–ø—Ä–æ—Å—ã
- –£—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ò–∑–±—ã—Ç–æ—á–Ω—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á Windows:
```powershell
# –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏
SCHTASKS /CREATE /SC DAILY /TN "CleanLogs" /TR "powershell.exe -File C:\Projects\1\clean-logs.ps1" /ST 02:00
```

### Cron (Linux):
```bash
# –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –≤ 2:00
0 2 * * * /usr/bin/powershell /path/to/clean-logs.ps1
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:
- –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤ –ª–æ–≥–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –≤ –¥–µ–Ω—å
- –í—Ä–µ–º—è –∑–∞–ø–∏—Å–∏ –ª–æ–≥–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU –ø—Ä–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–∏
- –°–∫–æ—Ä–æ—Å—Ç—å —Ä–æ—Ç–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
- PowerShell —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- Grafana –¥–∞—à–±–æ—Ä–¥—ã
- ELK Stack (Elasticsearch, Logstash, Kibana)
- Prometheus –º–µ—Ç—Ä–∏–∫–∏

---

**üéØ –ò—Ç–æ–≥**: –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ 70-80%, —É–ª—É—á—à–µ–Ω–∞ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å, —Å–Ω–∏–∂–µ–Ω–∞ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –¥–∏—Å–∫ –∏ CPU. 