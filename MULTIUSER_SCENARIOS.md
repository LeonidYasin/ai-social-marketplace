# Сценарии действий двух пользователей за разными устройствами

## Общая информация

**Устройство 1**: Desktop/Laptop (1920x1080) - Пользователь A
**Устройство 2**: Mobile/Tablet (375x667) - Пользователь B
**Среда**: Chrome/Edge браузеры
**Сеть**: Локальная сеть или интернет

## Сценарий 1: Регистрация и первичная настройка

### Этап 1.1: Регистрация пользователя A
**Устройство**: Desktop (1920x1080)
**Действия**:
1. Открыть http://localhost:3000
2. Нажать кнопку "Войти через Google"
3. Выполнить OAuth авторизацию в Google
4. Вернуться на сайт с токеном
5. Проверить загрузку профиля
6. Настроить аватар и био

**Ожидаемый результат**:
- Пользователь A создан в системе
- JWT токен сохранен в localStorage
- Профиль загружен и отображается
- Пользователь в списке онлайн

### Этап 1.2: Регистрация пользователя B
**Устройство**: Mobile (375x667)
**Действия**:
1. Открыть http://localhost:3000
2. Нажать кнопку "Войти через Google"
3. Выполнить OAuth авторизацию в Google
4. Вернуться на сайт с токеном
5. Проверить адаптивность интерфейса
6. Настроить профиль

**Ожидаемый результат**:
- Пользователь B создан в системе
- Интерфейс адаптирован под мобильное устройство
- Боковые панели сворачиваются автоматически
- Оба пользователя видят друг друга в списке онлайн

## Сценарий 2: Создание и взаимодействие с постами

### Этап 2.1: Создание поста пользователем A
**Устройство**: Desktop (1920x1080)
**Действия**:
1. Найти форму создания поста в ленте
2. Ввести текст: "Привет всем! Это мой первый пост в новой социальной сети"
3. Выбрать приватность "public"
4. Нажать "Опубликовать"
5. Проверить отображение поста в ленте

**Ожидаемый результат**:
- Пост создан и сохранен в БД
- Пост отображается в ленте пользователя A
- Пост виден пользователю B в реальном времени

### Этап 2.2: Реакция на пост от пользователя B
**Устройство**: Mobile (375x667)
**Действия**:
1. Увидеть новый пост пользователя A в ленте
2. Нажать кнопку "Нравится" (лайк)
3. Добавить комментарий: "Отличный пост! Добро пожаловать!"
4. Проверить обновление счетчика реакций

**Ожидаемый результат**:
- Реакция сохранена в БД
- Счетчик лайков увеличился
- Комментарий отображается под постом
- Пользователь A видит реакцию в реальном времени

### Этап 2.3: Ответ на комментарий от пользователя A
**Устройство**: Desktop (1920x1080)
**Действия**:
1. Увидеть комментарий пользователя B
2. Нажать "Ответить" на комментарий
3. Ввести ответ: "Спасибо! Рад быть здесь"
4. Нажать "Отправить"

**Ожидаемый результат**:
- Ответ сохранен как вложенный комментарий
- Вложенный комментарий отображается правильно
- Пользователь B получает уведомление

## Сценарий 3: Real-time чат

### Этап 3.1: Инициация чата
**Устройство**: Desktop (1920x1080) - Пользователь A
**Действия**:
1. Открыть правую боковую панель (чат)
2. Найти пользователя B в списке онлайн
3. Нажать на имя пользователя B
4. Открыть диалог чата

**Ожидаемый результат**:
- Диалог чата открыт
- WebSocket соединение установлено
- Пользователь A присоединился к чату

### Этап 3.2: Отправка сообщений
**Устройство**: Desktop (1920x1080) - Пользователь A
**Действия**:
1. Ввести сообщение: "Привет! Как дела?"
2. Нажать "Отправить" или Enter
3. Проверить отображение сообщения в чате

**Ожидаемый результат**:
- Сообщение отправлено через WebSocket
- Сообщение сохранено в БД
- Сообщение отображается в чате пользователя A
- Пользователь B получает сообщение в реальном времени

### Этап 3.3: Ответ в чате
**Устройство**: Mobile (375x667) - Пользователь B
**Действия**:
1. Увидеть уведомление о новом сообщении
2. Открыть чат с пользователем A
3. Ввести ответ: "Привет! Все хорошо, спасибо! Как ты?"
4. Отправить сообщение

**Ожидаемый результат**:
- Ответ отправлен через WebSocket
- Ответ сохранен в БД
- Ответ отображается в чате пользователя B
- Пользователь A получает ответ в реальном времени

### Этап 3.4: Обмен несколькими сообщениями
**Оба устройства одновременно**:
1. Пользователь A: "Отлично! Как тебе новая платформа?"
2. Пользователь B: "Очень нравится! Интерфейс удобный"
3. Пользователь A: "Согласен! Особенно чат работает быстро"
4. Пользователь B: "Да, real-time сообщения - это круто!"

**Ожидаемый результат**:
- Все сообщения доставляются в правильном порядке
- WebSocket соединение стабильно
- Сообщения сохраняются в БД
- История чата загружается при перезагрузке

## Сценарий 4: Поиск и навигация

### Этап 4.1: Поиск пользователей
**Устройство**: Desktop (1920x1080) - Пользователь A
**Действия**:
1. Нажать кнопку поиска в верхней панели
2. Ввести имя пользователя B
3. Просмотреть результаты поиска
4. Перейти в профиль пользователя B

**Ожидаемый результат**:
- Поиск работает быстро
- Результаты отображаются корректно
- Профиль пользователя B загружается
- Можно начать чат прямо из профиля

### Этап 4.2: Поиск постов
**Устройство**: Mobile (375x667) - Пользователь B
**Действия**:
1. Открыть поиск
2. Ввести ключевые слова из поста пользователя A
3. Просмотреть найденные посты
4. Перейти к посту пользователя A

**Ожидаемый результат**:
- Поиск по контенту работает
- Пост пользователя A найден
- Можно перейти к посту и взаимодействовать

## Сценарий 5: Настройки и персонализация

### Этап 5.1: Изменение настроек пользователя A
**Устройство**: Desktop (1920x1080)
**Действия**:
1. Открыть настройки пользователя
2. Изменить био: "Разработчик и энтузиаст новых технологий"
3. Загрузить новый аватар
4. Изменить настройки приватности
5. Сохранить изменения

**Ожидаемый результат**:
- Настройки сохранены в БД
- Аватар обновлен
- Пользователь B видит изменения в реальном времени
- Настройки приватности применяются

### Этап 5.2: Смена темы
**Устройство**: Mobile (375x667) - Пользователь B
**Действия**:
1. Открыть настройки
2. Переключить тему с "facebook" на "neon"
3. Проверить применение темы
4. Перезагрузить страницу

**Ожидаемый результат**:
- Тема изменена на neon
- Тема сохранена в localStorage
- Тема применяется ко всем компонентам
- Тема сохраняется после перезагрузки

## Сценарий 6: Аналитика и геймификация

### Этап 6.1: Просмотр аналитики
**Устройство**: Desktop (1920x1080) - Пользователь A
**Действия**:
1. Открыть панель аналитики
2. Просмотреть статистику постов
3. Просмотреть статистику реакций
4. Просмотреть активность пользователей

**Ожидаемый результат**:
- Аналитика загружается корректно
- Графики отображаются
- Данные актуальны
- Фильтры работают

### Этап 6.2: Система достижений
**Устройство**: Mobile (375x667) - Пользователь B
**Действия**:
1. Открыть панель геймификации
2. Просмотреть текущий уровень
3. Просмотреть полученные бейджи
4. Выполнить действия для получения новых достижений

**Ожидаемый результат**:
- Геймификация работает
- Уровни рассчитываются правильно
- Бейджи выдаются за действия
- Прогресс отображается корректно

## Сценарий 7: Уведомления

### Этап 7.1: Получение уведомлений
**Оба устройства**:
1. Пользователь A создает новый пост
2. Пользователь B получает уведомление
3. Пользователь B реагирует на пост
4. Пользователь A получает уведомление о реакции
5. Пользователь B отправляет сообщение в чат
6. Пользователь A получает уведомление о сообщении

**Ожидаемый результат**:
- Уведомления создаются для всех событий
- Уведомления доставляются в реальном времени
- Счетчик непрочитанных работает
- Уведомления можно пометить как прочитанные

## Сценарий 8: Стресс-тестирование

### Этап 8.1: Быстрые действия
**Оба устройства одновременно**:
1. Пользователь A создает 5 постов подряд
2. Пользователь B ставит лайки на все посты
3. Пользователь A комментирует свои посты
4. Пользователь B отвечает на комментарии
5. Оба пользователя отправляют сообщения в чат

**Ожидаемый результат**:
- Система не падает
- Все действия выполняются
- Данные не теряются
- Производительность остается стабильной

### Этап 8.2: Одновременные действия
**Оба устройства одновременно**:
1. Оба пользователя редактируют свои профили
2. Оба пользователя создают посты
3. Оба пользователя отправляют сообщения
4. Оба пользователя ищут контент

**Ожидаемый результат**:
- Конфликты не возникают
- Данные сохраняются корректно
- Система обрабатывает параллельные запросы

## Сценарий 9: Обработка ошибок

### Этап 9.1: Сетевые проблемы
**Действия**:
1. Отключить интернет на одном устройстве
2. Попытаться выполнить действия
3. Включить интернет обратно
4. Проверить восстановление соединения

**Ожидаемый результат**:
- Ошибки отображаются пользователю
- Система пытается переподключиться
- Данные не теряются
- Синхронизация происходит после восстановления

### Этап 9.2: Неверные данные
**Действия**:
1. Попытаться отправить пустое сообщение
2. Попытаться создать пост без контента
3. Попытаться отправить очень длинное сообщение
4. Попытаться загрузить неверный формат файла

**Ожидаемый результат**:
- Валидация работает на фронтенде
- Валидация работает на бэкенде
- Пользователь получает понятные ошибки
- Система не падает

## Сценарий 10: Завершение сессии

### Этап 10.1: Выход пользователя A
**Устройство**: Desktop (1920x1080)
**Действия**:
1. Нажать кнопку выхода
2. Подтвердить выход
3. Проверить очистку данных

**Ожидаемый результат**:
- JWT токен удален из localStorage
- Пользователь перенаправлен на страницу входа
- WebSocket соединение закрыто
- Пользователь B видит, что пользователь A вышел

### Этап 10.2: Выход пользователя B
**Устройство**: Mobile (375x667)
**Действия**:
1. Нажать кнопку выхода
2. Подтвердить выход
3. Проверить очистку данных

**Ожидаемый результат**:
- JWT токен удален из localStorage
- Пользователь перенаправлен на страницу входа
- WebSocket соединение закрыто
- Оба пользователя вышли из системы

## Метрики для OCR бота

### Визуальные индикаторы успеха:
1. **Зеленые статусы**: Все API запросы возвращают 200
2. **Онлайн индикаторы**: Пользователи видны как онлайн
3. **Real-time обновления**: Контент обновляется без перезагрузки
4. **Счетчики**: Реакции и комментарии подсчитываются правильно
5. **Уведомления**: Появляются в реальном времени

### Визуальные индикаторы ошибок:
1. **Красные ошибки**: API возвращает 4xx/5xx
2. **Серые статусы**: Пользователи офлайн
3. **Зависшие загрузки**: Бесконечные спиннеры
4. **Пустые экраны**: Контент не загружается
5. **Неправильные данные**: Неверные счетчики или контент

### Точки проверки для OCR:
1. **URL адресная строка**: Правильные маршруты
2. **Консоль браузера**: Ошибки JavaScript
3. **Network вкладка**: HTTP запросы и WebSocket
4. **LocalStorage**: Сохранение токенов и настроек
5. **Элементы UI**: Кнопки, формы, списки

Эта документация поможет OCR боту систематически протестировать все сценарии взаимодействия пользователей и выявить возможные проблемы в системе. 